2013-05-28  Junichi Satoh  <junichi@rworks.jp>

	* res/values-ja/strings.xml: Fixed a translation.

2013-05-18 Mark Holland <mark@mark-holland.me.uk>

    * Pandroid Agent v3.0_UTF8.apk: Added apk that sends xml in
    utf-8 encoding.

2013-05-18 Mark Holland <mark@mark-holland.me.uk>

    * src/pandroid/agent/PandroidAgentListener.java: Changed xml
    header to UTF-8 encoding.

    * src/pandroid/agent/PandroidAgentTentacle.java: Changed data
    String to byte array.

2013-05-16 Mark Holland <mark@mark-holland.me.uk>

	* src/pandroid/agent/PandroidAgentListener.java: Fixed
	values not showing up on status view when pandroid activity
	killed. Corrected spelling mistake of receiveBytes. Removed
	last_gps_contact module, wasn't implemented.

    * Pandroid Agent v3.0_iso-8859-1.apk: Updated to latest version.

2013-05-16 Mark Holland <mark@mark-holland.me.uk>

	* res/values: Added report inventory string to all languages.
	fixed some wrongly spelled strings.

2013-05-15 Mark Holland <mark@mark-holland.me.uk>

	* Pandroid Agent v3.0_iso-8859-1.apk: Updated to latest version.

2013-05-15 Mark Holland <mark@mark-holland.me.uk>

    * src/pandroid/agent/PandroidAgentListener.java: Possibly fixed
    notification disappearing, agent running > 24 hours and notification
    still present.

2013-05-14 Mark Holland <mark@mark-holland.me.uk>
	
	* src/pandroid/agent/PandroidAgentListener.java: Moved the 
	loading	of the config values to an asynctask to force that updating 
	the values and then contacting the server and creating the 
	notification happens after all the config values have been loaded.

	* src/pandroid/agent/Status.java: On resuming the app
	the loading of the last values has been moved to an asynctask to force
	updating the ui to wait for all the values to be loaded.

	* src/pandroid/agent/*.java: Applied the Correct Indentation function
	of eclipse to all code.

	* res/layout/*.xml: Applied the Correct Indentation function
	of eclipse to all code.

	* Pandroid Agent v3.0_iso-8859-1.apk: Updated to latest version.

2013-05-01 Mark Holland <mark@mark-holland.me.uk>
	
	* src/pandroid/agent/PandroidAgentListener.java: Changed gps module
	to update coordinates after a time of "interval" AND "15 metres" if
	no change then uses lastKnownLocation.

	* Pandroid Agent v3.0_iso-8859-1.apk: Updated to latest version.

2013-04-28 Mark Holland <mark@mark-holland.me.uk>
	
	* layout/spinner.xml: Changed spinnner text color to green.

	* Pandroid Agent v3.0_iso-8859-1.apk: Updated to latest version.

2013-04-28 Mark Holland <mark@mark-holland.me.uk>
	
	* AndroidMainfest.xml: Set theme to themes.xml, moved permissions
	and uses to top of file.

	* layout/spinner.xml: Theme for spinner that sets text
	color to grey.	

	* values/themes.xml: For setting theme on devices < sdk 11
	(android 3.0)	

	* values-v11/themes.xml: For setting theme on device above
	sdk 11

	* src/pandroid/agent/Setup.java: Set spinnner to use new
	theme for setting text color

2013-04-28 Mark Holland <mark@mark-holland.me.uk>

	* assets/database/pandroid.zip: Removed as no longer needed

	* assets/libs/android-sqlite-asset-helper: Removed as no longer 
	needed

	* layout/setup.xml: Disabled autocorrect on server address
	and agent name text edits. Changed all dip to sp. Changed order
	of some objects

	* layout/setupnosim.xml: Disabled autocorrect on server address
	and agent name text edits. Changed all dip to sp. Changed order
	of some objects

	* src/pandroid/agent/Core.java: Reordered lots of code 
	to improve legibility.

	* src/pandroid/agent/DataBaseHandler.java: Removed as 
	no longer needed

	* src/pandroid/agent/DataBaseHandler.java: Removed as 
	no longer needed

	* src/pandroid/agent/HelperSharedPreferences: Removed 
	as no longer needed

	* src/pandroid/agent/PandroidAgent.java: Removed all relating
	to SharedPreferences

	* src/pandroid/agent/PandroidAgentListener.java: loadConf on service
	start. Restored SharedPreferences getter and setter. Notification
	shows the whole time alarm enabled, on stop agent dissapears. On
	connection shows message(unavoidable at current time).

	* src/pandroid/agent/PandroidAgentTentacle.java: Changed socket
	timeout to 2000ms.

	* src/pandroid/agent/Setup.java: Reordered lots of code 
	to improve legibility.

	* src/pandroid/agent/SMSBroadcastReceiver.java: Returned
	to using local SharedPreferences.

	* values: Added value for choosing task to report, odd suggestions.

	* Pandroid Agent v3.0_iso-8859-1.apk: Updated to latest version.

2013-04-27 Mark Holland <mark@mark-holland.me.uk>

	* Pandroid Agent v3.0_iso-8859-1.apk: Restored proper default values
	for server and interval.

	* src/pandroid/agent/Core.java: Restored proper default values
	for server and interval.

2013-04-27 Mark Holland <mark@mark-holland.me.uk>

	* Pandroid Agent v3.0_iso-8859-1.apk: Updated with buffer size
	selection.

2013-04-27 Mark Holland <mark@mark-holland.me.uk>

	* src/pandroid/agent/Core.java: Reverted to previous commit
	SharedPreferences.

	* src/pandroid/agent/PandroidAgent.java: Reverted to previous commit
	SharedPreferences.

	* src/pandroid/agent/PandroidAgentListener.java: Notification only
	shows when attempting to send xml, can't work out how to have it 
	persistent and not dissapear when Pandroid activity is destroyed.

	* src/pandroid/agent/SMSBroadcastReceiver.java: Reverted to previous 
	commit SharedPreferences.
	
2013-04-27 Mark Holland <mark@mark-holland.me.uk>

	* assets/database/pandroid.zip: Added buffer size initial value.

	* layout: Added buffer size text edit.

	* src/pandroid/agent/Core.java: Added variable for buffer size 
	with initial value of 256KB. Moved all preference reading/editing 
	to HelperSharedPreferences.

	* src/pandroid/agent/DataBaseHandler.java: Now extends 
	sqliteassethelper library.

	* src/pandroid/agent/HelperSharedPreferences: New helper class in 
	attempt to mitigate SharedPreferences loss.

	* src/pandroid/agent/PandroidAgent.java: Removed SharedPreferences
	references and methods.

	* src/pandroid/agent/PandroidAgentListener.java: Rewritten all get
	and put preferences to use HelperSharedPreferences instead.

	* src/pandroid/agent/Setup.java: Added views for buffer size.

	* src/pandroid/agent/SMSBroadcastReceiver.java: Changed to use
	HelperSharedPreferences.
	
	* values: Added buffer size to all strings.

2013-04-26 Mark Holland <mark@mark-holland.me.uk>

	* src/pandroid/agent/Core.java: Single SharedPreferences and
	Editor objects that are retrieved when needed. getSharedData()
	and putSharedData() moved to this class from 
	PandroidAgentListener.

	* src/pandroid/agent/PandroidAgent.java: Instantiate static
	SharedPreferences and Editor objects with getters for each.

	* src/pandroid/agent/PandroidAgentListener.java: buildXML() and
	contact() are now background tasks. Implemented buffer, if xml fails
	to send it stays in the system, next succesful conection after sends
	all of the unsent xml files, current buffer size = 99 files.

	* src/pandroid/agent/PandroidAgentTentacle.java: Changed socket to
	timeout after 1000ms.

	* src/pandroid/agent/SMSBroadcastReceiver.java: Changed 
	SharedPreferences to static version from PandroidAgent.java	

	* Pandroid Agent v3.0_iso-8859-1.apk: Updated to include latest
	changes.

2013-04-25 Mark Holland <mark@mark-holland.me.uk>

	* src/pandroid/agent/Core.java: Separate load and store
	methods for SharedPreferences and database.

	* src/pandroid/agent/PandroidAgent.java: Values retrieved from
	database onCreate. onPause and onDestroy values are saved to 
	database.

	* src/pandroid/agent/PandroidAgentListener.java: Reverted to using
	SharedPreferences at runtime, database used when app not in view.
	Added module as proof of iso-8859-1 now working.

	* Pandroid Agent v3.0_iso-8859-1.apk: For testing whether
	configuration is no longer lost after an amount of time.

2013-04-25 Mark Holland <mark@mark-holland.me.uk>

	* assets/database/pandroid.zip: zipped sqlite3
	database containing all default values.

	* libs/android-sqlite-asset-helper.jar: library to facilitate
	database operations. Only temporarily being used.

	* src/pandroid/agent/Core.java: Changed get and update
	database values methods to support new DataBaseHandler.

	* src/pandroid/agent/DataBaseHandler.java: Complete rewrite.

	* src/pandroid/agent/PandroidAgent.java: Removed initiate
	database, database now supplied with build.

	* src/pandroid/agent/PandroidAgentListener.java: changed
	SimIDReport to simIDReport to reflect database.

	
2013-04-23 Mark Holland <mark@mark-holland.me.uk>

	* src/pandroid/agent/Core.java: Migrated from shared
	preferences to sqlite database. Method to create and
	initialize database with default values.

	* src/pandroid/agent/DataBaseHandler.java: Creates
	a database and provides methods for interaction.

	* src/pandroid/agent/DataHandler.java: Objects for
	facilitating interaction of data with the database.

	* src/pandroid/agent/PandroidAgent.java: If first run
	then creates and initializes database. Needs to be 
	replaced by copying default db that would ship with 
	pandroid.

	* src/pandroid/agent/PandroidAgentListener.java: Adapted
	get and put sharedData to use database instead,

	* src/pandroid/agent/Setup.java: Reduced
	configuration updates

2013-04-01  Sergio Martin <sergio.martin@artica.es>

	* src/pandroid/agent/PandroidAgentListener.java: Fixed 
	a crash bug in some devices when try to retrieve the 
	coordinates provider. Close unclosed cursor and change some
	error logs to normal logs

2012-09-24 Mark Holland <mark@mark-holland.me.uk>

	* src/pandroid/agent/PandroidAgentListener.java:
	Removed asynctask when making contact in attempt
	to fix configuration loss after x time

2012-08-24 Mark Holland <mark@mark-holland.me.uk>

	* src/pandroid/agent/PandroidAgentListener.java:
	Reverted to original writeFile method, changed
	xml encoding header to iso-8859-1


2012-09-12  Sergio Martin <sergio.martin@artica.es>

	* src/pandroid/agent/PandroidAgent.java
	src/pandroid/agent/PandroidAgentTentacle.java
	src/pandroid/agent/Status.java
	src/pandroid/agent/PandroidAgentListener.java
	res/drawable-xhdpi/ic_launcher.png
	res/drawable-xhdpi/logo.png
	res/drawable-xhdpi/pandroid_large.png
	res/drawable-hdpi/ic_launcher.png
	res/drawable-ldpi/ic_launcher.png
	res/drawable-ldpi/logo.png
	res/drawable-ldpi/pandroid_large.png
	res/drawable-mdpi/ic_launcher.png: Fixed some
	warnings of not used variables and includes.
	Added new designs

2012-08-25  Junichi Satoh  <junichi@rworks.jp>

	* res/values-ja/strings.xml: Fixed wrong Japanese translations.

2012-08-24 Mark Holland <mark@mark-holland.me.uk>

	* AndroidManifest.xml: Added experimental start
	pandroid on device boot(not operational)

	* res/layout/setup.xml: Removed duplicate password
	button

	* res/layout/setupnosim.xml: Removed unused text view

	* src/pandroid/agent/core.java: set inventory to disabled
	by default
	
	* src/pandroid/agent/PandroidAgentListener.java: Fixed
	inventory report if condition

	* src/pandroid/agent/PandroidAgentTentacle.java: Fixed if
	condition when server response == null, Changed how data
	is written to serverOutput, fixes utf-8.
	

2012-08-22 Mark Holland <mark@mark-holland.me.uk>

	* AndroidManifest.xml: Changed icon drawable to
	ic_launcher

	* res/drawable-hdpi: Added notification icon

	* res/drawable-ldpi: Added notification icon

	* res/drawable-mdpi: Added notification icon

	* res/drawable-xhdpi: Added notification icon

	* res/layout/setup.xml: Added inventory report checkbox,
	notification checkbox and stop/restart listener buttons.

	* res/layout/setupnosim.xml: Added inventory report checkbox,
	notification checkbox and stop/restart listener buttons.

	* res/values/strings.xml: Added strings for notification and
	stop/restart buttons, reflected in all locales

	* src/pandroid/agent/core.java: Added variables for notification
	and inventory report, fixed agentname, mobileurl mixup.

	* src/pandroid/agent/PandroidAgent.java: Removed splash screen, 
	Added check if app launched before and only restarts listener in
	this case. Added onPause and onDestroy methods to ensure no settings
	loss.
	
	* src/pandroid/agent/PandroidAgentListener.java: Added optional
	notification when pandroid alarm is enabled, removed loading toast,
	added inventory enabled check, added cancel notification method,
	changed xml format to utf-8(untested)

	* src/pandroid/agent/setup.java: Fixed mobile url, if no http:// or 
	https:// then http:// added automatically. Added stop/restart listener
	buttons, added inventory report and notification checkbox


2012-08-20 Mark Holland <mark@mark-holland.me.uk>

	* Pandroid Agent v3.0.apk: Added apk of pandroid so that
	anyone can test it.

2012-08-19 Mark Holland <mark@mark-holland.me.uk>

	* res/drawable-hdpi: Added help and about icons
	from sdk	

	* res/drawable-ldpi: Added new vector images.
	Added help and about icons from sdk.

	* res/drawable-mdpi:Added help and about icons
	from sdk.

	* res/drawable-xhdpi: Added new higher
	resolution images. Added help and about icons from sdk

	* res/layout/password_choose.xml: UI tweak

	* res/layout/password_create.xml: UI tweak

	* res/layout/setup.xml: Changed webURL id, moved position
	of task spinner.

	* res/layout/setupnosim.xml: Changed webURL id, moved
	position of task spinner.

	* res/layout/status.xml: Removed start, stop, show and 
	hide xml buttons.

	* res/layout/statusnosim.xml: Removed start, stop, show 
	and hide xml buttons.

	* res/layout/welcome.xml: Added splash screen view with
	pandroid logo and version 3.0 text.

	* res/values/strings.xml: Changed order of strings to be
	more structured, removed unused correct_update string,
	fixed the "..." in loading string, fixed copyright symbol,
	added strings for seconds, runnning and stopped that were
	previously hardcoded, fixed apostrophe in don't.

	* res/values-de/strings.xml: Added strings for German locale

	* res/values-es/strings.xml: Added strings for Spanish locale
	
	* res/values-fr/strings.xml: Added strings for French locale

	* res/values-it/strings.xml: Added strings for Italian locale

	* res/values-ja/strings.xml: Added strings for Japanese locale

	* res/values-pt/strings.xml: Added strings for Portuguese locale

	* res/values-zh/strings.xml: Added strings for Chinese(simplified)
	locale

	* src/pandroid/agent/About.java: Changed URL to pandorafms.com from
	.org

	* src/pandroid/agent/core.java: Changed mobile url variable, 

	* src/pandroid/agent/Installation.java: Added comment explaining class.

	* src/pandroid/agent/PandroidAgent.java: Added splash screen dialog
	
	* src/pandroid/agent/PandroidAgentListener.java: Added loading toast on
	connect, moved contact into an asynctask, added application inventory to
	xml(app name;version;package name), fixed battery level to work on first
	connect, made all get methods private.

	* src/pandroid/agent/setup.java: Auto add http:// to mobile web url.

	* src/pandroid/agent/SMSBroadcastReceiver.java: Changed variable name.

	* src/pandroid/agent/status.java: swapped hardcoded strings to ones from
	res.	


2012-08-03 Mark Holland <mark@mark-holland.me.uk>

	* res/layout/password_entry.xml: UI tweaks

	* res/layout/setup.xml: Added mobile console
	textview and button

	* res/layout/setupnosim.xml: Added mobile console
	textview and button

	* res/layout/status.xml: Added roaming view

	* res/values/strings.xml: string for roaming, 
	roaming report, mobile site

	* src/pandroid/agent/core.java: Added variables
	for roaming and mobile site url

	* src/pandroid/agent/PandroidAgentListener.java: 
 	Added roaming report method and variables then add
	to xml

	* src/pandroid/agent/setup.java: Added mobile site
	view and full screen password input

	* src/pandroid/agent/status.java: Added roaming view


2012-07-09 Mark Holland <mark@mark-holland.me.uk>
	
	* AndroidManifest.xml: Added Pandora FMS 
	comment to header.

	* res/layout/About.xml: Swapped hardcoded
	text for strings.

	* res/layout/help.xml: Added scrollview.

	* res/layout/password_choose.xml: View for dialog
	when choosing whether to have a password.

	* res/layout/password_create.xml: Added textviews
	with instructions.

	* res/layout/password_entry.xml: Swapped hardcoded
	text for strings.

	* res/layout/setup.xml: Added checkboxes for all
	modules.

	* res/layout/setupnosim.xml: View that only
	shows checkboxes for modules that don't need a sim
	card present.

	* res/values/strings.xml: Updated help string
	(english only). Lots of new strings, also
	added to strings-en and strings-es.

	* src/pandroid/agent/About.java: Added Pandora FMS 
	comment to header.

	* src/pandroid/agent/core.java: Added Pandora FMS 
	comment to header. Added variable for hello signal.
	Added reporting variables for all modules. Changed 
	alarm to be accessed in a static way. changed agent
	identifier from pandroid plus simID to pandroid plus
	install uid.

	* src/pandroid/agent/Help.java:	Added Pandora FMS 
	comment to header.

	* src/pandroid/agent/Installation.java: Calculates a
	unique installation uid.

	* src/pandroid/agent/PandroidAgent.java: hasSim now 
	works whether phone without sim and also tablet without
	capability for sim card. On resume sets hello signal to 1.
	
	* src/pandroid/agent/PandroidAgentListener.java: Removed
	unnecessary variables, all defaults come from Core.java.
	Ensure Hello signal changed to 0 after every connection.
	Variables for all module reporting, data only added to xml
	if enabled in setup.

	* src/pandroid/agent/setup.java: Added Pandora FMS 
	comment to header. Different views loaded depending
	on whether sim card is present. Added button for changing
	password. Added checkboxes for all modules. Added dialog
	for choosing whether to set a password. Added minimum
	password length and empty to remove password. Keyboard 
	dismissed upon completing dialogs.

	* src/pandroid/agent/SMSBroadcastReceiver.java: Added 
	Pandora FMS comment to header.

	* src/pandroid/agent/status.java: Added Pandora FMS 
	comment to header. Remove incorrect toast message
	when pressing start button.


2012-07-04 Mark Holland <mark@mark-holland.me.uk>
	
	* AndroidManifest.xml: Added permissions read_contacts
	and read_sms

	* res/layout/password_create.xml: Created view for
	password creation dialogue

	* res/layout/password_entry.xml: Created view for
	password entry dialogue

	* res/layout/status.xml: Converted most of data 
	into a table layout

	* res/layout/statusnosim.xml: Created status view
	only showing the data avaliable when device has
	no sim card

	* res/values/strings.xml: Added strings for bytes
	sent/received and password dialogues

	* src/pandroid/agent/core.java: added variables for
	bytes sent/received, hasSim and password. Changed 
	signal strength to integer.

	* src/pandroid/agent/PAndroidAgent.java: Added check
	if sim card present. Method for switching tabs from
	activities.

	* src/pandroid/agent/PandroidAgentListener.java: Added
	variables for bytes sent/received. Now if no sim card
	present SimID, NetworkOperator, SMSSent, NetworkType,
        PhoneType, SignalStrength, Calls, DataBytes modules aren't 		used or sent.

	* src/pandroid/agent/setup.java: Added methods for
	creating password and entering password when switching
	to setup tab(not completed). Added checkbox for simId
	and task reporting

	* src/pandroid/agent/status.java: Checks if sim present
	and displays view accordingly.


2012-06-26 Mark Holland <mark@mark-holland.me.uk>
	
	* res/layout/setup.xml: Added checkboxes for simID
	and task reporting.

	* res/layout/status.xml: Added textviews for new data.

	* res/values/strings.xml: Added strings for 
	smsReceived, networkType, phoneType and calls.
	Replicated in values-en and values-es.

	* src/pandroid/agent/core.java: set simID
	reporting as disabled by default. Added variables
	for networkOperator, networkType, phoneType,
	signalStrength, incoming, missed and outgoing calls.

	* src/pandroid/agent/PandroidAgentListener.java: task,
	smsReceived, networkType, phoneType and calls methods
	and then added to XML. simID now checks whether
	enabled in user configuration.

	* src/pandroid/agent/setup.java: Added spinner for task
	selection.

	* src/pandroid/agent/SMSActivity.java: removed

	* src/pandroid/agent/SMSBroadcastReceiver.java: upon
	receiving a smsreceived intent, increments the stored
	number of smsReceived.

	* src/pandroid/agent/status.java: Added textviews for
	new methods mentioned above.


2012-06-19 Mark Holland <mark@mark-holland.me.uk>

	* res/layout.main.xml: removed as no longer used
	 in pandroid 2.0

	* res/values/strings.xml: Added strings for simID,
	upTime, start, loading and agent stopped. Replicated
	in values-en and values-es
	
	* src/pandroid/agent/core.java: Added variables 
	for simID and upTime
 	
	* src/pandroid/agent/PandroidAgent.java: commented
	out unnecessary code from version 1.0. Removed
	absolute tab height as it interferes with high
	density screens.

	* src/pandroid/agent/PandroidAgentListener.java: 
	Android version is now set as per device rather 
	than a fixed string. simID, upTime and networkOperator methods
	and then added to XML

	* src/pandroid/agent/setup.java: commented
	out unnecessary code from version 1.0

	* src/pandroid/agent/SMSActivity.java: Started work

	* src/pandroid/agent/SMSBroadcastReceiver.java: 
	Started work

	* src/pandroid/agent/status.java: Created onStart
	method to better follow android standard. run()
	is executed here. Fixed way toasts for connection 
	messages are handled. Added textviews for simID 
	and upTime values. added start/stop, show and hide 
	XML buttons for debugging purposes.

2012-06-08  Sergio Martin <sergio.martin@artica.es>

	* ChangeLog: Create the android agent change 
	log file


